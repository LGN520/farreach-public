<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>TommyDS</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="tommy.css" rel="stylesheet" type="text/css">
</head>
<body>

<!-- Generated by Doxygen 1.7.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>tommyds/tommyarrayblk.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>Dynamic array based on blocks of fixed size.  
<a href="#_details">More...</a></p>

<p><a href="tommyarrayblk_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk_struct</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Array container type.  <a href="structtommy__arrayblk__struct.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#ae30f3192a3b8264ee051c56f9572055e">TOMMY_ARRAYBLK_SIZE</a>&#160;&#160;&#160;(4 * 1024)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Elements for each block.  <a href="#ae30f3192a3b8264ee051c56f9572055e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#a773ff562ec3bdc01196b5bb3fdf4adbf">tommy_arrayblk</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Array container type.  <a href="#a773ff562ec3bdc01196b5bb3fdf4adbf"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#a8ef34c37f7fae91e1356d66fc0ac2751">tommy_arrayblk_init</a> (<a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *array)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the array.  <a href="#a8ef34c37f7fae91e1356d66fc0ac2751"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#a8952349cb69beee445955e9cc3fd5225">tommy_arrayblk_done</a> (<a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *array)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes the array.  <a href="#a8952349cb69beee445955e9cc3fd5225"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#a49eb2de42416c54aa4224870d67a044c">tommy_arrayblk_grow</a> (<a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *array, <a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a> size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Grows the size up to the specified value.  <a href="#a49eb2de42416c54aa4224870d67a044c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#a769bfbef8261f2830c59615275391344">tommy_arrayblk_ref</a> (<a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *array, <a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a> pos)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a reference of the element at the specified position.  <a href="#a769bfbef8261f2830c59615275391344"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#a747a0d7e208ffc4f6a83b111634e7549">tommy_arrayblk_set</a> (<a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *array, <a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a> pos, void *element)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the element at the specified position.  <a href="#a747a0d7e208ffc4f6a83b111634e7549"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#a2a2929bcc97ea2ebaef477c77d226a83">tommy_arrayblk_get</a> (<a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *array, <a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a> pos)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the element at the specified position.  <a href="#a2a2929bcc97ea2ebaef477c77d226a83"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#a6dc203d5b22cb6c42f147c388059bb70">tommy_arrayblk_insert</a> (<a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *array, void *element)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Grows and inserts a new element at the end of the array.  <a href="#a6dc203d5b22cb6c42f147c388059bb70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#aa725c7927c89033b1f52692007052720">tommy_arrayblk_size</a> (<a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *array)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the initialized size of the array.  <a href="#aa725c7927c89033b1f52692007052720"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="tommytypes_8h.html#a32aad870b975610a257f9c2d14b0825e">tommy_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommyarrayblk_8h.html#acd0c7c4d9257951bbc6e47592dc5e576">tommy_arrayblk_memory_usage</a> (<a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *array)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of allocated memory.  <a href="#acd0c7c4d9257951bbc6e47592dc5e576"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Dynamic array based on blocks of fixed size. </p>
<p>This array is able to grow dynamically upon request, without any reallocation.</p>
<p>The grow operation involves an allocation of a new array block, without reallocating the already used memory, and then not increasing the heap fragmentation, and minimize the space occupation. This also implies that the address of the stored elements never change.</p>
<p>Allocated blocks are always of the same fixed size of 4 Ki pointers. </p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="ae30f3192a3b8264ee051c56f9572055e"></a><!-- doxytag: member="tommyarrayblk.h::TOMMY_ARRAYBLK_SIZE" ref="ae30f3192a3b8264ee051c56f9572055e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOMMY_ARRAYBLK_SIZE&#160;&#160;&#160;(4 * 1024)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Elements for each block. </p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a773ff562ec3bdc01196b5bb3fdf4adbf"></a><!-- doxytag: member="tommyarrayblk.h::tommy_arrayblk" ref="a773ff562ec3bdc01196b5bb3fdf4adbf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk_struct</a>  <a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Array container type. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Don't use internal fields directly, but access the container only using functions. </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8ef34c37f7fae91e1356d66fc0ac2751"></a><!-- doxytag: member="tommyarrayblk.h::tommy_arrayblk_init" ref="a8ef34c37f7fae91e1356d66fc0ac2751" args="(tommy_arrayblk *array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tommy_arrayblk_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the array. </p>

</div>
</div>
<a class="anchor" id="a8952349cb69beee445955e9cc3fd5225"></a><!-- doxytag: member="tommyarrayblk.h::tommy_arrayblk_done" ref="a8952349cb69beee445955e9cc3fd5225" args="(tommy_arrayblk *array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tommy_arrayblk_done </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deinitializes the array. </p>

</div>
</div>
<a class="anchor" id="a49eb2de42416c54aa4224870d67a044c"></a><!-- doxytag: member="tommyarrayblk.h::tommy_arrayblk_grow" ref="a49eb2de42416c54aa4224870d67a044c" args="(tommy_arrayblk *array, tommy_count_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tommy_arrayblk_grow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Grows the size up to the specified value. </p>
<p>All the new elements in the array are initialized with the 0 value. </p>

</div>
</div>
<a class="anchor" id="a769bfbef8261f2830c59615275391344"></a><!-- doxytag: member="tommyarrayblk.h::tommy_arrayblk_ref" ref="a769bfbef8261f2830c59615275391344" args="(tommy_arrayblk *array, tommy_count_t pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void** tommy_arrayblk_ref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a>&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets a reference of the element at the specified position. </p>
<p>You must be sure that space for this position is already allocated calling <a class="el" href="tommyarrayblk_8h.html#a49eb2de42416c54aa4224870d67a044c" title="Grows the size up to the specified value.">tommy_arrayblk_grow()</a>. </p>

</div>
</div>
<a class="anchor" id="a747a0d7e208ffc4f6a83b111634e7549"></a><!-- doxytag: member="tommyarrayblk.h::tommy_arrayblk_set" ref="a747a0d7e208ffc4f6a83b111634e7549" args="(tommy_arrayblk *array, tommy_count_t pos, void *element)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tommy_arrayblk_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a>&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>element</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the element at the specified position. </p>
<p>You must be sure that space for this position is already allocated calling <a class="el" href="tommyarrayblk_8h.html#a49eb2de42416c54aa4224870d67a044c" title="Grows the size up to the specified value.">tommy_arrayblk_grow()</a>. </p>

</div>
</div>
<a class="anchor" id="a2a2929bcc97ea2ebaef477c77d226a83"></a><!-- doxytag: member="tommyarrayblk.h::tommy_arrayblk_get" ref="a2a2929bcc97ea2ebaef477c77d226a83" args="(tommy_arrayblk *array, tommy_count_t pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tommy_arrayblk_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a>&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the element at the specified position. </p>
<p>You must be sure that space for this position is already allocated calling <a class="el" href="tommyarrayblk_8h.html#a49eb2de42416c54aa4224870d67a044c" title="Grows the size up to the specified value.">tommy_arrayblk_grow()</a>. </p>

</div>
</div>
<a class="anchor" id="a6dc203d5b22cb6c42f147c388059bb70"></a><!-- doxytag: member="tommyarrayblk.h::tommy_arrayblk_insert" ref="a6dc203d5b22cb6c42f147c388059bb70" args="(tommy_arrayblk *array, void *element)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tommy_arrayblk_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>element</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Grows and inserts a new element at the end of the array. </p>

</div>
</div>
<a class="anchor" id="aa725c7927c89033b1f52692007052720"></a><!-- doxytag: member="tommyarrayblk.h::tommy_arrayblk_size" ref="aa725c7927c89033b1f52692007052720" args="(tommy_arrayblk *array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a> tommy_arrayblk_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the initialized size of the array. </p>

</div>
</div>
<a class="anchor" id="acd0c7c4d9257951bbc6e47592dc5e576"></a><!-- doxytag: member="tommyarrayblk.h::tommy_arrayblk_memory_usage" ref="acd0c7c4d9257951bbc6e47592dc5e576" args="(tommy_arrayblk *array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tommytypes_8h.html#a32aad870b975610a257f9c2d14b0825e">tommy_size_t</a> tommy_arrayblk_memory_usage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__arrayblk__struct.html">tommy_arrayblk</a> *&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the size of allocated memory. </p>

</div>
</div>
</div>
</body>
</html>
