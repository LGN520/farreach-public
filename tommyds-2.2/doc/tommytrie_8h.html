<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>TommyDS</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="tommy.css" rel="stylesheet" type="text/css">
</head>
<body>

<!-- Generated by Doxygen 1.7.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>tommyds/tommytrie.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>Trie optimized for cache utilization.  
<a href="#_details">More...</a></p>

<p><a href="tommytrie_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtommy__trie__struct.html">tommy_trie_struct</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Trie container type.  <a href="structtommy__trie__struct.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#a749b14cb7dba5c94bbca91ba56bcfd62">TOMMY_TRIE_TREE_MAX</a>&#160;&#160;&#160;(64 / sizeof(void*))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of branches on each inner node.  <a href="#a749b14cb7dba5c94bbca91ba56bcfd62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#a12bee56b6b3ae6ee817d641f148220f1">TOMMY_TRIE_BLOCK_SIZE</a>&#160;&#160;&#160;(TOMMY_TRIE_TREE_MAX * sizeof(void*))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Trie block size.  <a href="#a12bee56b6b3ae6ee817d641f148220f1"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structtommy__node__struct.html">tommy_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#a72ea06a04c9d0609d048e2ef40e8a71c">tommy_trie_node</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Trie node.  <a href="#a72ea06a04c9d0609d048e2ef40e8a71c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtommy__trie__struct.html">tommy_trie_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#a05c17b0ace098768808aa9effcaa9559">tommy_trie</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Trie container type.  <a href="#a05c17b0ace098768808aa9effcaa9559"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#ac6f775ce5ef3dcf2b5d0bf0588f39e7c">tommy_trie_init</a> (<a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *trie, <a class="el" href="structtommy__allocator__struct.html">tommy_allocator</a> *alloc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the trie.  <a href="#ac6f775ce5ef3dcf2b5d0bf0588f39e7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#a7f48a4942d6b607c24b7236ab257b7d7">tommy_trie_insert</a> (<a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *trie, <a class="el" href="structtommy__node__struct.html">tommy_trie_node</a> *node, void *data, <a class="el" href="tommytypes_8h.html#a8812c3379df4aaf65a3605a22faf4787">tommy_key_t</a> key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts an element in the trie.  <a href="#a7f48a4942d6b607c24b7236ab257b7d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#a47ed46af4087783c351172280d03ed6b">tommy_trie_remove</a> (<a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *trie, <a class="el" href="tommytypes_8h.html#a8812c3379df4aaf65a3605a22faf4787">tommy_key_t</a> key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches and removes the first element with the specified key.  <a href="#a47ed46af4087783c351172280d03ed6b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtommy__node__struct.html">tommy_trie_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#a0ab11f26139ff2a1d405ace4a1af0e6a">tommy_trie_bucket</a> (<a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *trie, <a class="el" href="tommytypes_8h.html#a8812c3379df4aaf65a3605a22faf4787">tommy_key_t</a> key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the bucket of the specified key.  <a href="#a0ab11f26139ff2a1d405ace4a1af0e6a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#a1170abedabdc9d919db8728d238c50db">tommy_trie_search</a> (<a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *trie, <a class="el" href="tommytypes_8h.html#a8812c3379df4aaf65a3605a22faf4787">tommy_key_t</a> key)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches an element in the trie.  <a href="#a1170abedabdc9d919db8728d238c50db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#a096cf4116065eff7ddf5a430c357519d">tommy_trie_remove_existing</a> (<a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *trie, <a class="el" href="structtommy__node__struct.html">tommy_trie_node</a> *node)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an element from the trie.  <a href="#a096cf4116065eff7ddf5a430c357519d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#a0a848e70d29f72b9c3fcc4ad8ca18edd">tommy_trie_count</a> (<a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *trie)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of elements.  <a href="#a0a848e70d29f72b9c3fcc4ad8ca18edd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="tommytypes_8h.html#a32aad870b975610a257f9c2d14b0825e">tommy_size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tommytrie_8h.html#ae990fe2038fffa1d1fb3a9472eebabc4">tommy_trie_memory_usage</a> (<a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *trie)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of allocated memory.  <a href="#ae990fe2038fffa1d1fb3a9472eebabc4"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Trie optimized for cache utilization. </p>
<p>This trie is a standard implementation that stores elements in the order defined by the key.</p>
<p>It needs an external allocator for the inner nodes in the trie.</p>
<p>You can control the number of branches of each node using the <a class="el" href="tommytrie_8h.html#a749b14cb7dba5c94bbca91ba56bcfd62" title="Number of branches on each inner node.">TOMMY_TRIE_TREE_MAX</a> define. More branches imply more speed, but a bigger memory occupation.</p>
<p>Compared to <a class="el" href="tommytrieinp_8h.html#aa375bb131f3d221a24774aef08b27a0a" title="Trie container type.">tommy_trie_inplace</a> you have to provide a <a class="el" href="tommyalloc_8h.html#a6c125feb128aabc2c5a274ed51d809c0" title="Allocator of fixed size blocks.">tommy_allocator</a> allocator. Note that the C malloc() is too slow to futfill this role.</p>
<p>To initialize the trie you have to call <a class="el" href="tommyalloc_8h.html#a586c23ea36edb2ee6e07e4ce48eca2e0" title="Initializes the allocator.">tommy_allocator_init()</a> to initialize the allocator, and <a class="el" href="tommytrie_8h.html#ac6f775ce5ef3dcf2b5d0bf0588f39e7c" title="Initializes the trie.">tommy_trie_init()</a> for the trie.</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="structtommy__allocator__struct.html" title="Allocator of fixed size blocks.">tommy_allocator</a> alloc;
 <a class="code" href="structtommy__trie__struct.html" title="Trie container type.">tommy_trie</a> trie;

 <a class="code" href="tommyalloc_8h.html#a586c23ea36edb2ee6e07e4ce48eca2e0" title="Initializes the allocator.">tommy_allocator_init</a>(&amp;alloc, <a class="code" href="tommytrie_8h.html#a12bee56b6b3ae6ee817d641f148220f1" title="Trie block size.">TOMMY_TRIE_BLOCK_SIZE</a>, <a class="code" href="tommytrie_8h.html#a12bee56b6b3ae6ee817d641f148220f1" title="Trie block size.">TOMMY_TRIE_BLOCK_SIZE</a>);

 <a class="code" href="tommytrie_8h.html#ac6f775ce5ef3dcf2b5d0bf0588f39e7c" title="Initializes the trie.">tommy_trie_init</a>(&amp;trie, &amp;alloc);
</pre></div><p>To insert elements in the trie you have to call <a class="el" href="tommytrie_8h.html#a7f48a4942d6b607c24b7236ab257b7d7" title="Inserts an element in the trie.">tommy_trie_insert()</a> for each element. In the insertion call you have to specify the address of the node, the address of the object, and the key value to use. The address of the object is used to initialize the <a class="el" href="structtommy__node__struct.html#a6210792ec52fa1efbfb44cf4557d9b6f" title="Pointer to the object containing the node.">tommy_node::data</a> field of the node, and the key to initialize the <a class="el" href="structtommy__node__struct.html#a124aaecab9e5d3d1fbb9239dac779d23" title="Key used to store the node.">tommy_node::key</a> field.</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>object {
     <span class="keywordtype">int</span> value;
     <span class="comment">// other fields</span>
     <a class="code" href="structtommy__node__struct.html" title="Data structure node.">tommy_node</a> node;
 };

 <span class="keyword">struct </span>object* obj = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <span class="keywordtype">object</span>)); <span class="comment">// creates the object</span>

 obj-&gt;value = ...; <span class="comment">// initializes the object</span>

 <a class="code" href="tommytrie_8h.html#a7f48a4942d6b607c24b7236ab257b7d7" title="Inserts an element in the trie.">tommy_trie_insert</a>(&amp;trie, &amp;obj-&gt;node, obj, obj-&gt;value); <span class="comment">// inserts the object</span>
</pre></div><p>To find and element in the trie you have to call <a class="el" href="tommytrie_8h.html#a1170abedabdc9d919db8728d238c50db" title="Searches an element in the trie.">tommy_trie_search()</a> providing the key to search.</p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">int</span> value_to_find = 1;
 <span class="keyword">struct </span>object* obj = <a class="code" href="tommytrie_8h.html#a1170abedabdc9d919db8728d238c50db" title="Searches an element in the trie.">tommy_trie_search</a>(&amp;trie, value_to_find);
 <span class="keywordflow">if</span> (!obj) {
     <span class="comment">// not found</span>
 } <span class="keywordflow">else</span> {
     <span class="comment">// found</span>
 }
</pre></div><p>To iterate over all the elements in the trie with the same key, you have to use <a class="el" href="tommytrie_8h.html#a0ab11f26139ff2a1d405ace4a1af0e6a" title="Gets the bucket of the specified key.">tommy_trie_bucket()</a> and follow the <a class="el" href="structtommy__node__struct.html#a53338f3f5366866598ed9ac7e46e64a2" title="Next node.">tommy_node::next</a> pointer until NULL.</p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">int</span> value_to_find = 1;
 <a class="code" href="structtommy__node__struct.html" title="Data structure node.">tommy_node</a>* i = <a class="code" href="tommytrie_8h.html#a0ab11f26139ff2a1d405ace4a1af0e6a" title="Gets the bucket of the specified key.">tommy_trie_bucket</a>(&amp;trie, value_to_find);
 <span class="keywordflow">while</span> (i) {
     <span class="keyword">struct </span>object* obj = i-&gt;<a class="code" href="structtommy__node__struct.html#a6210792ec52fa1efbfb44cf4557d9b6f" title="Pointer to the object containing the node.">data</a>; <span class="comment">// gets the object pointer</span>

     printf(<span class="stringliteral">&quot;%d\n&quot;</span>, obj-&gt;value); <span class="comment">// process the object</span>

     i = i-&gt;<a class="code" href="structtommy__node__struct.html#a53338f3f5366866598ed9ac7e46e64a2" title="Next node.">next</a>; <span class="comment">// goes to the next element</span>
 }
</pre></div><p>To remove an element from the trie you have to call <a class="el" href="tommytrie_8h.html#a47ed46af4087783c351172280d03ed6b" title="Searches and removes the first element with the specified key.">tommy_trie_remove()</a> providing the key to search and remove.</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">struct </span>object* obj = <a class="code" href="tommytrie_8h.html#a47ed46af4087783c351172280d03ed6b" title="Searches and removes the first element with the specified key.">tommy_trie_remove</a>(&amp;trie, value_to_remove);
 <span class="keywordflow">if</span> (obj) {
     free(obj); <span class="comment">// frees the object allocated memory</span>
 }
</pre></div><p>To destroy the trie you have to remove all the elements, and deinitialize the allocator using <a class="el" href="tommyalloc_8h.html#aac73124d542617cc990351ef3200c6e8" title="Deinitialize the allocator.">tommy_allocator_done()</a>.</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="tommyalloc_8h.html#aac73124d542617cc990351ef3200c6e8" title="Deinitialize the allocator.">tommy_allocator_done</a>(&amp;alloc);
</pre></div><p>Note that you cannot iterate over all the elements in the trie using the trie itself. You have to insert all the elements also in a <a class="el" href="tommylist_8h.html#a45d098412d5f0be21113b252caee491b" title="Double linked list type.">tommy_list</a>, and use the list to iterate. See the <a class="el" href="multiindex.html">Tommy Multi Indexing</a> example for more detail. </p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a749b14cb7dba5c94bbca91ba56bcfd62"></a><!-- doxytag: member="tommytrie.h::TOMMY_TRIE_TREE_MAX" ref="a749b14cb7dba5c94bbca91ba56bcfd62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOMMY_TRIE_TREE_MAX&#160;&#160;&#160;(64 / sizeof(void*))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of branches on each inner node. </p>
<p>It must be a power of 2. Suggested values are 8, 16 and 32. Any inner node, excluding leafs, contains a pointer to each branch.</p>
<p>The default size is choosen to exactly fit a typical cache line of 64 bytes. </p>

</div>
</div>
<a class="anchor" id="a12bee56b6b3ae6ee817d641f148220f1"></a><!-- doxytag: member="tommytrie.h::TOMMY_TRIE_BLOCK_SIZE" ref="a12bee56b6b3ae6ee817d641f148220f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOMMY_TRIE_BLOCK_SIZE&#160;&#160;&#160;(TOMMY_TRIE_TREE_MAX * sizeof(void*))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Trie block size. </p>
<p>You must use this value to initialize the allocator. </p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a72ea06a04c9d0609d048e2ef40e8a71c"></a><!-- doxytag: member="tommytrie.h::tommy_trie_node" ref="a72ea06a04c9d0609d048e2ef40e8a71c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structtommy__node__struct.html">tommy_node</a> <a class="el" href="structtommy__node__struct.html">tommy_trie_node</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Trie node. </p>
<p>This is the node that you have to include inside your objects. </p>

</div>
</div>
<a class="anchor" id="a05c17b0ace098768808aa9effcaa9559"></a><!-- doxytag: member="tommytrie.h::tommy_trie" ref="a05c17b0ace098768808aa9effcaa9559" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtommy__trie__struct.html">tommy_trie_struct</a>  <a class="el" href="structtommy__trie__struct.html">tommy_trie</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Trie container type. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Don't use internal fields directly, but access the container only using functions. </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac6f775ce5ef3dcf2b5d0bf0588f39e7c"></a><!-- doxytag: member="tommytrie.h::tommy_trie_init" ref="ac6f775ce5ef3dcf2b5d0bf0588f39e7c" args="(tommy_trie *trie, tommy_allocator *alloc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tommy_trie_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *&#160;</td>
          <td class="paramname"><em>trie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtommy__allocator__struct.html">tommy_allocator</a> *&#160;</td>
          <td class="paramname"><em>alloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the trie. </p>
<p>You have to provide an allocator initialized with *both* the size and align with TOMMY_TRIE_BLOCK_SIZE. You can share this allocator with other tries.</p>
<p>The tries is completely allocated through the allocator, and it doesn't need to be deinitialized. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">alloc</td><td>Allocator initialized with *both* the size and align with TOMMY_TRIE_BLOCK_SIZE. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7f48a4942d6b607c24b7236ab257b7d7"></a><!-- doxytag: member="tommytrie.h::tommy_trie_insert" ref="a7f48a4942d6b607c24b7236ab257b7d7" args="(tommy_trie *trie, tommy_trie_node *node, void *data, tommy_key_t key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tommy_trie_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *&#160;</td>
          <td class="paramname"><em>trie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtommy__node__struct.html">tommy_trie_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a8812c3379df4aaf65a3605a22faf4787">tommy_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inserts an element in the trie. </p>
<p>You have to provide the pointer of the node embedded into the object, the pointer to the object and the key to use. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to the node embedded into the object to insert. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the object to insert. </td></tr>
    <tr><td class="paramname">key</td><td>Key to use to insert the object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a47ed46af4087783c351172280d03ed6b"></a><!-- doxytag: member="tommytrie.h::tommy_trie_remove" ref="a47ed46af4087783c351172280d03ed6b" args="(tommy_trie *trie, tommy_key_t key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tommy_trie_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *&#160;</td>
          <td class="paramname"><em>trie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a8812c3379df4aaf65a3605a22faf4787">tommy_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Searches and removes the first element with the specified key. </p>
<p>If the element is not found, 0 is returned. If more equal elements are present, the first one is removed. This operation is faster than calling <a class="el" href="tommytrie_8h.html#a0ab11f26139ff2a1d405ace4a1af0e6a" title="Gets the bucket of the specified key.">tommy_trie_bucket()</a> and <a class="el" href="tommytrie_8h.html#a096cf4116065eff7ddf5a430c357519d" title="Removes an element from the trie.">tommy_trie_remove_existing()</a> separately. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key of the element to find and remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The removed element, or 0 if not found. </dd></dl>

</div>
</div>
<a class="anchor" id="a0ab11f26139ff2a1d405ace4a1af0e6a"></a><!-- doxytag: member="tommytrie.h::tommy_trie_bucket" ref="a0ab11f26139ff2a1d405ace4a1af0e6a" args="(tommy_trie *trie, tommy_key_t key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtommy__node__struct.html">tommy_trie_node</a>* tommy_trie_bucket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *&#160;</td>
          <td class="paramname"><em>trie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a8812c3379df4aaf65a3605a22faf4787">tommy_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the bucket of the specified key. </p>
<p>The bucket is guaranteed to contain ALL and ONLY the elements with the specified key. You can access elements in the bucket following the ::next pointer until 0. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key of the element to find. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The head of the bucket, or 0 if empty. </dd></dl>

</div>
</div>
<a class="anchor" id="a1170abedabdc9d919db8728d238c50db"></a><!-- doxytag: member="tommytrie.h::tommy_trie_search" ref="a1170abedabdc9d919db8728d238c50db" args="(tommy_trie *trie, tommy_key_t key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tommy_trie_search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *&#160;</td>
          <td class="paramname"><em>trie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tommytypes_8h.html#a8812c3379df4aaf65a3605a22faf4787">tommy_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Searches an element in the trie. </p>
<p>You have to provide the key of the element you want to find. If more elements with the same key are present, the first one is returned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key of the element to find. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The first element found, or 0 if none. </dd></dl>

</div>
</div>
<a class="anchor" id="a096cf4116065eff7ddf5a430c357519d"></a><!-- doxytag: member="tommytrie.h::tommy_trie_remove_existing" ref="a096cf4116065eff7ddf5a430c357519d" args="(tommy_trie *trie, tommy_trie_node *node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tommy_trie_remove_existing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *&#160;</td>
          <td class="paramname"><em>trie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtommy__node__struct.html">tommy_trie_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes an element from the trie. </p>
<p>You must already have the address of the element to remove. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The <a class="el" href="structtommy__node__struct.html#a6210792ec52fa1efbfb44cf4557d9b6f" title="Pointer to the object containing the node.">tommy_node::data</a> field of the node removed. </dd></dl>

</div>
</div>
<a class="anchor" id="a0a848e70d29f72b9c3fcc4ad8ca18edd"></a><!-- doxytag: member="tommytrie.h::tommy_trie_count" ref="a0a848e70d29f72b9c3fcc4ad8ca18edd" args="(tommy_trie *trie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tommytypes_8h.html#a802a296e9903e3bc098432b9bdad03ab">tommy_count_t</a> tommy_trie_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *&#160;</td>
          <td class="paramname"><em>trie</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the number of elements. </p>

</div>
</div>
<a class="anchor" id="ae990fe2038fffa1d1fb3a9472eebabc4"></a><!-- doxytag: member="tommytrie.h::tommy_trie_memory_usage" ref="ae990fe2038fffa1d1fb3a9472eebabc4" args="(tommy_trie *trie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tommytypes_8h.html#a32aad870b975610a257f9c2d14b0825e">tommy_size_t</a> tommy_trie_memory_usage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtommy__trie__struct.html">tommy_trie</a> *&#160;</td>
          <td class="paramname"><em>trie</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the size of allocated memory. </p>
<p>It includes the size of the <a class="el" href="tommytrie_8h.html#a72ea06a04c9d0609d048e2ef40e8a71c" title="Trie node.">tommy_trie_node</a> of the stored elements. </p>

</div>
</div>
</div>
</body>
</html>
